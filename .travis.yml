sudo: false

language: python

variables:
  QVM_URL: "http://qvm:5000"
  QUILC_URL: "tcp://quilc:5555"

services:
  - name: rigetti/qvm
    alias: qvm
    command: ["-S"]
  - name: rigetti/quilc
    alias: quilc
    command: ["-R"]

branches:
  only:
  - dev

before_install:
  - pip3 install --upgrade pip setuptools wheel

install:
  - pip3 install pytest
  - pip3 install pytest-cov
  - pip3 install coveralls
  - pip3 install -r requirements.txt
  - pip3 install -e .

test:
  script: 
    pytest src/nisqai --cov src/nisqai
